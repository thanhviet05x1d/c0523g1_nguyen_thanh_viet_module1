<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>[Bài tập] Tic tac toe</title>
</head>
<body>
<h3>Caro Game Simple</h3>
<p id="result"></p>
<p id="carogame"></p>
<hr>

<input type="button" id="btn-Change" value="Đánh cờ" onclick="changeValue()">
<input type="button" id="" value="Chơi lại" onclick="resetAll()">
<script>
    // Bước 1: Tạo bàn cờ
    let board = [];
    for (i = 0; i < 10; i++) {
        board[i] = ['(.)', '(.)', '(.)', '(.)', '(.)', '(.)', '(.)', '(.)', '(.)', '(.)'];
    }

    let data = '';
    for (let i = 0; i < board.length; i++) {
        for (let j = 0; j < board.length; j++) {
            data += board[i][j] + '&nbsp;&nbsp;';
        }
        data += '<br/>';
    }
    document.getElementById('carogame').innerHTML = data;

    // Bước 2: Tính toán
    let human = 1;

    function changeValue() {
        po_x = +prompt('Nhập vào tạo độ x');
        po_y = +prompt('Nhập vào tạo độ y');
        if (human % 2 == 0) {
            board[po_x][po_y] = "X";

        } else board[po_x][po_y] = "O";
        human++;
        data = '';
        // Cập nhật lại bàn cờ
        for (let i = 0; i < board.length; i++) {
            for (let j = 0; j < board.length; j++) {
                data += board[i][j] + '&nbsp;&nbsp;';
            }
            data += '<br/>';
        }
        document.getElementById('carogame').innerHTML = data;
// Phân định thắng thua.
        for (i = 0; i < board.length; i++) {
            for (j = 0; j < board.length; j++) {
                if ((board[i][j] == 'X' && board[i][j + 1] == 'X' && board[i][j + 2] == 'X') || (board[i][j] == 'X' && board[i + 1][j] == 'X' && board[i + 2][j] == 'X')) {
                    alert('X thắng');
                    location.reload()
                } else if ((board[i][j] == 'O' && board[i][j + 1] == 'O' && board[i][j + 2] == 'O') || (board[i][j] == 'O' && board[i + 1][j] == 'O' && board[i + 2][j] == 'O')) {
                    alert('O thắng');
                    location.reload()
                }
            }
        }
    }

    // Reset lại
    function resetAll() {
        location.reload();
    }

</script>
</body>
</html>